# ููุทู ุนุฑุถ ุงูุจูุงูุงุช ูู ุฃูุงู ุงูุฅุฌุงุฒุฉ (ุงูุฎููุณ ูุงูุฌูุนุฉ)

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทุจูู ููุทู ุฎุงุต ูุนุฑุถ ุจูุงูุงุช ุงูุทูุงุจ ูู ุตูุญุฉ ุงูุชูุฑูุฑ ุฎูุงู ุฃูุงู ุงูุฎููุณ ูุงูุฌูุนุฉุ ูุน ูุฑุงุนุงุฉ ุฃู ุงูุฎููุณ ููู ุฏูุงู ุฅุถุงูู ุงุฎุชูุงุฑู.

## ุฃูุงู ุงูุฏูุงู

### ุฃูุงู ุงูุฏูุงู ุงูุฑุณููุฉ:
- **ุงูุณุจุช** โ
- **ุงูุฃุญุฏ** โ
- **ุงูุงุซููู** โ
- **ุงูุซูุงุซุงุก** โ
- **ุงูุฃุฑุจุนุงุก** โ

### ุฃูุงู ุงูุฅุฌุงุฒุฉ:
- **ุงูุฎููุณ**: ููู ุฏูุงู ุฅุถุงูู (ุงุฎุชูุงุฑู) ๐ก
- **ุงูุฌูุนุฉ**: ุฅุฌุงุฒุฉ ุฑุณููุฉ โ

## ุงูููุทู ุงููุทุจู

### ุฏุงูุฉ `getEffectiveDisplayDate`
ูุฐู ุงูุฏุงูุฉ ุชุญุฏุฏ ุงูุชุงุฑูุฎ ุงููุนูู ุงูุฐู ุณูุชู ุนุฑุถ ุจูุงูุงุชู ุจูุงุกู ุนูู ุงูููู ุงููุทููุจ:

```typescript
const getEffectiveDisplayDate = async (studentId: string, requestedDate: string) => {
  const date = new Date(requestedDate);
  const dayOfWeek = date.getDay(); // 0=ุงูุฃุญุฏ, 4=ุงูุฎููุณ, 5=ุงูุฌูุนุฉ
  
  // ุฅุฐุง ูุงู ุงูููู ุฎููุณ (4) ุฃู ุฌูุนุฉ (5)
  if (dayOfWeek === 4 || dayOfWeek === 5) {
    // 1. ุชุญูู ูู ูุฌูุฏ ุจูุงูุงุช ููู ุงูุฎููุณ
    // 2. ุฅุฐุง ููุฌุฏุช โ ุงุณุชุฎุฏู ุจูุงูุงุช ุงูุฎููุณ
    // 3. ุฅุฐุง ูู ุชูุฌุฏ โ ุงุณุชุฎุฏู ุจูุงูุงุช ุงูุฃุฑุจุนุงุก
  }
  
  // ูุจุงูู ุงูุฃูุงูุ ุงุณุชุฎุฏู ุงูุชุงุฑูุฎ ุงููุทููุจ
  return requestedDate;
}
```

## ุณููุงุฑูููุงุช ุงูุนุฑุถ

### ุงูุณููุงุฑูู 1: ููู ุงูุฎููุณ ูุน ุฏูุงู ุฅุถุงูู
```
ุงูุชุงุฑูุฎ ุงููุทููุจ: ุงูุฎููุณ 2024-01-04
ุจูุงูุงุช ุงูุฎููุณ: ููุฌูุฏุฉ โ
ุงููุชูุฌุฉ: ุนุฑุถ ุจูุงูุงุช ุงูุฎููุณ
ุงูุฑุณุงูุฉ: ูุง ุชูุฌุฏ ุฑุณุงูุฉ (ุนุฑุถ ุนุงุฏู)
```

### ุงูุณููุงุฑูู 2: ููู ุงูุฎููุณ ุจุฏูู ุฏูุงู ุฅุถุงูู
```
ุงูุชุงุฑูุฎ ุงููุทููุจ: ุงูุฎููุณ 2024-01-04
ุจูุงูุงุช ุงูุฎููุณ: ุบูุฑ ููุฌูุฏุฉ โ
ุงููุชูุฌุฉ: ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก 2024-01-03
ุงูุฑุณุงูุฉ: "๐ ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก 3 ููุงูุฑ"
```

### ุงูุณููุงุฑูู 3: ููู ุงูุฌูุนุฉ ูุน ุฏูุงู ุฎููุณ
```
ุงูุชุงุฑูุฎ ุงููุทููุจ: ุงูุฌูุนุฉ 2024-01-05
ุจูุงูุงุช ุงูุฎููุณ: ููุฌูุฏุฉ โ
ุงููุชูุฌุฉ: ุนุฑุถ ุจูุงูุงุช ุงูุฎููุณ 2024-01-04
ุงูุฑุณุงูุฉ: "๐ ุนุฑุถ ุจูุงูุงุช ุงูุฎููุณ 4 ููุงูุฑ"
```

### ุงูุณููุงุฑูู 4: ููู ุงูุฌูุนุฉ ุจุฏูู ุฏูุงู ุฎููุณ
```
ุงูุชุงุฑูุฎ ุงููุทููุจ: ุงูุฌูุนุฉ 2024-01-05
ุจูุงูุงุช ุงูุฎููุณ: ุบูุฑ ููุฌูุฏุฉ โ
ุงููุชูุฌุฉ: ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก 2024-01-03
ุงูุฑุณุงูุฉ: "๐ ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก 3 ููุงูุฑ"
```

### ุงูุณููุงุฑูู 5: ุฃูุงู ุงูุฏูุงู ุงูุนุงุฏูุฉ
```
ุงูุชุงุฑูุฎ ุงููุทููุจ: ุงูุฃุญุฏ 2024-01-07
ุงููุชูุฌุฉ: ุนุฑุถ ุจูุงูุงุช ุงูุฃุญุฏ 2024-01-07
ุงูุฑุณุงูุฉ: ูุง ุชูุฌุฏ ุฑุณุงูุฉ (ุนุฑุถ ุนุงุฏู)
```

## ุงูุชุญูู ูู ูุฌูุฏ ุงูุจูุงูุงุช

ูุชู ุงูุชุญูู ูู ูุฌูุฏ ุจูุงูุงุช ุงูุฎููุณ ูู ุฎูุงู:

1. **ุฌุฏูู `student_daily_work`**: ููุทูุงุจ ุงูุนุงุฏููู (ุชูุงูุฉ ูุญูุงุธ)
2. **ุฌุฏูู `student_beginner_recitations`**: ููุทูุงุจ ุงูุชูููุฏููู

ุฅุฐุง ููุฌุฏุช ุจูุงูุงุช ูู ุฃู ูู ุงูุฌุฏููููุ ููุนุชุจุฑ ุฃู ููุงู ุฏูุงู ูู ููู ุงูุฎููุณ.

## ุงูุฑุณุงูุฉ ุงูุชูุถูุญูุฉ

ุนูุฏูุง ูุชู ุนุฑุถ ุจูุงูุงุช ููู ูุฎุชูู ุนู ุงูููู ุงููุทููุจุ ุชุธูุฑ ุฑุณุงูุฉ ุชูุถูุญูุฉ:

```jsx
{effectiveDisplayDate && effectiveDisplayDate !== selectedDate && (
  <div className="mt-2 text-xs bg-blue-50 text-blue-700 px-3 py-1 rounded-full border border-blue-200">
    ๐ ุนุฑุถ ุจูุงูุงุช {new Date(effectiveDisplayDate).toLocaleDateString('ar-SA', { 
      weekday: 'long', 
      day: 'numeric', 
      month: 'long' 
    })}
  </div>
)}
```

## ุฃูุซูุฉ ูุงูุนูุฉ

### ูุซุงู 1: ุฃุณุจูุน ุนุงุฏู ุจุฏูู ุฏูุงู ุฎููุณ
```
ุงูุณุจุช 2024-01-06: ุนุฑุถ ุจูุงูุงุช ุงูุณุจุช
ุงูุฃุญุฏ 2024-01-07: ุนุฑุถ ุจูุงูุงุช ุงูุฃุญุฏ
ุงูุงุซููู 2024-01-08: ุนุฑุถ ุจูุงูุงุช ุงูุงุซููู
ุงูุซูุงุซุงุก 2024-01-09: ุนุฑุถ ุจูุงูุงุช ุงูุซูุงุซุงุก
ุงูุฃุฑุจุนุงุก 2024-01-10: ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก
ุงูุฎููุณ 2024-01-11: ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก (ูุง ุฏูุงู) ๐
ุงูุฌูุนุฉ 2024-01-12: ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก (ูุง ุฏูุงู) ๐
```

### ูุซุงู 2: ุฃุณุจูุน ูุน ุฏูุงู ุฎููุณ
```
ุงูุณุจุช 2024-01-13: ุนุฑุถ ุจูุงูุงุช ุงูุณุจุช
ุงูุฃุญุฏ 2024-01-14: ุนุฑุถ ุจูุงูุงุช ุงูุฃุญุฏ
ุงูุงุซููู 2024-01-15: ุนุฑุถ ุจูุงูุงุช ุงูุงุซููู
ุงูุซูุงุซุงุก 2024-01-16: ุนุฑุถ ุจูุงูุงุช ุงูุซูุงุซุงุก
ุงูุฃุฑุจุนุงุก 2024-01-17: ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก
ุงูุฎููุณ 2024-01-18: ุนุฑุถ ุจูุงูุงุช ุงูุฎููุณ (ุฏูุงู ุฅุถุงูู) โ
ุงูุฌูุนุฉ 2024-01-19: ุนุฑุถ ุจูุงูุงุช ุงูุฎููุณ (ุขุฎุฑ ููู ุฏูุงู) ๐
```

## ุงูููุงุฆุฏ

1. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู**: ุงูุทุงูุจ ูุฑู ุฏุงุฆูุงู ุขุฎุฑ ุจูุงูุงุช ูุชุงุญุฉ ูู
2. **ูุฑููุฉ ูู ุงูุฏูุงู**: ูุฏุนู ุงูุฏูุงู ุงูุฅุถุงูู ูู ุงูุฎููุณ ุฏูู ุชุนููุฏ
3. **ูุถูุญ**: ุฑุณุงูุฉ ุชูุถูุญูุฉ ุชุฎุจุฑ ุงููุณุชุฎุฏู ุจุงูุชุงุฑูุฎ ุงููุนูู ุงููุนุฑูุถ
4. **ุชููุงุฆู**: ูุง ูุญุชุงุฌ ุงููุนูู ุฃู ุงูุทุงูุจ ูุฃู ุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ

## ุงููููุงุช ุงููุนุฏูุฉ

- `src/pages/DynamicStudentReport.tsx`: ุตูุญุฉ ุงูุชูุฑูุฑ ููุทุงูุจ

## ุงูุงุฎุชุจุงุฑ

### ุงุฎุชุจุงุฑ 1: ููู ุฎููุณ ุจุฏูู ุฏูุงู
1. ุงูุชุญ ุตูุญุฉ ุชูุฑูุฑ ุทุงูุจ
2. ุงุฎุชุฑ ุชุงุฑูุฎ ููู ุฎููุณ ูู ูุชู ุฅุฏุฎุงู ุจูุงูุงุช ููู
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก ูุน ุฑุณุงูุฉ ุชูุถูุญูุฉ

### ุงุฎุชุจุงุฑ 2: ููู ุฎููุณ ูุน ุฏูุงู
1. ุฃุฏุฎู ุจูุงูุงุช ูุทุงูุจ ูู ููู ุฎููุณ
2. ุงูุชุญ ุตูุญุฉ ุชูุฑูุฑ ุงูุทุงูุจ ูุงุฎุชุฑ ููุณ ุงูุชุงุฑูุฎ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ุนุฑุถ ุจูุงูุงุช ุงูุฎููุณ ุจุฏูู ุฑุณุงูุฉ ุชูุถูุญูุฉ

### ุงุฎุชุจุงุฑ 3: ููู ุฌูุนุฉ
1. ุงูุชุญ ุตูุญุฉ ุชูุฑูุฑ ุทุงูุจ
2. ุงุฎุชุฑ ุชุงุฑูุฎ ููู ุฌูุนุฉ
3. **ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 
   - ุฅุฐุง ูุงู ููุงู ุฏูุงู ุฎููุณ โ ุนุฑุถ ุจูุงูุงุช ุงูุฎููุณ
   - ุฅุฐุง ูู ููู ููุงู ุฏูุงู ุฎููุณ โ ุนุฑุถ ุจูุงูุงุช ุงูุฃุฑุจุนุงุก

### ุงุณุชุนูุงู SQL ููุชุญูู
```sql
-- ุงูุชุญูู ูู ูุฌูุฏ ุจูุงูุงุช ุงูุฎููุณ ูุทุงูุจ ูุนูู
SELECT 
  'daily_work' as source,
  date,
  EXTRACT(DOW FROM date) as day_of_week
FROM student_daily_work
WHERE student_id = 'STUDENT_ID_HERE'
  AND EXTRACT(DOW FROM date) = 4 -- ุงูุฎููุณ
  
UNION ALL

SELECT 
  'beginner_recitations' as source,
  date,
  EXTRACT(DOW FROM date) as day_of_week
FROM student_beginner_recitations
WHERE student_id = 'STUDENT_ID_HERE'
  AND EXTRACT(DOW FROM date) = 4 -- ุงูุฎููุณ
  
ORDER BY date DESC;
```

## ููุงุญุธุงุช ูููุฉ

1. ูุฐุง ุงูููุทู ูุทุจู **ููุท** ุนูู ุตูุญุฉ ุงูุชูุฑูุฑ ููุทุงูุจ
2. ุตูุญุฉ ุงูุฅุฏุฎุงู ุงูุณุฑูุน ูููุนูู ุชุนูู ุจุดูู ุนุงุฏู (ูููู ุฅุฏุฎุงู ุจูุงูุงุช ูู ุฃู ููู)
3. ุงูุชุญูู ูู ูุฌูุฏ ุงูุจูุงูุงุช ูุชู ูู ูู ูุฑุฉ ูุชู ูููุง ุชุญููู ุงูุตูุญุฉ
4. ุงูุฑุณุงูุฉ ุงูุชูุถูุญูุฉ ุชุธูุฑ ููุท ุนูุฏูุง ูุชู ุนุฑุถ ุชุงุฑูุฎ ูุฎุชูู ุนู ุงููุทููุจ
